{"version":3,"sources":["components/DialogPage/singleMessage.module.css","components/CreateNewChat/plusButtonStyles.module.css","components/DialogPage/topLine.module.css","components/BackArrow/backArrow.module.css","components/DialogList/DialogList.module.css","components/DialogPage/styles.module.css","components/ProfilePage/styles.module.css","components/CreateNewChat/CreateNewChat.js","components/DialogList/DialogList.js","components/BackArrow/BackArrow.js","components/DialogPage/MessageForm.js","components/ProfilePage/ProfilePage.js","App.js","index.js","components/CreateNewChat/createNewChatForm.module.css"],"names":["module","exports","CreateChatStuff","DialogList","BackArrow","className","style","arrow","transform","arrowTop","arrowBottom","MessageForm","TopLine","appState","history","setAppState","useHistory","id","styles","topLineContainer","onClick","e","push","window","publicUrl","prevAppPage","flex","role","tabIndex","profileTopic","ProfilePage","profile_form","profileImg","src","alt","name","status","App","props","useState","appPage","openedChat","chatId","topic","messages","useEffect","Array","isArray","JSON","parse","localStorage","getItem","clear","process","ReactDOM","render","document","getElementById"],"mappings":"0HACAA,EAAOC,QAAU,CAAC,SAAW,gCAAgC,oBAAsB,2CAA2C,WAAa,kCAAkC,IAAM,6B,mBCAnLD,EAAOC,QAAU,CAAC,QAAU,kCAAkC,gBAAkB,0CAA0C,cAAgB,0C,mBCA1ID,EAAOC,QAAU,CAAC,UAAY,2BAA2B,QAAU,yBAAyB,MAAQ,yB,mBCApGD,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,SAAW,4BAA4B,YAAc,iC,kBCAxGD,EAAOC,QAAU,CAAC,iBAAmB,qCAAqC,YAAc,gCAAgC,MAAQ,0BAA0B,gBAAgB,kCAAkC,MAAQ,0BAA0B,QAAU,4BAA4B,kBAAkB,oCAAoC,gBAAgB,kCAAkC,UAAY,8BAA8B,qBAAuB,yCAAyC,SAAW,6BAA6B,KAAO,yBAAyB,KAAO,yBAAyB,QAAU,4BAA4B,QAAU,4BAA4B,QAAU,4BAA4B,MAAQ,0BAA0B,IAAM,0B,sDCAxuBD,EAAOC,QAAU,CAAC,eAAiB,+BAA+B,aAAe,6BAA6B,YAAc,4BAA4B,aAAe,6BAA6B,OAAS,uBAAuB,YAAc,8B,4DCAlPD,EAAOC,QAAU,CAAC,WAAa,2BAA2B,aAAe,6BAA6B,iBAAmB,iCAAiC,aAAe,6BAA6B,KAAO,qBAAqB,OAAS,yB,gKCkH5NC,I,8BC1CAC,I,iBC5DAC,MAVf,WACC,OACC,yBAAKC,UAAWC,IAAMC,MAAOD,MAAO,CACnCE,UAAW,4BACX,yBAAKH,UAAWC,IAAMG,WACtB,yBAAKJ,UAAWC,IAAMI,gB,MCoPVC,I,gBCvPf,SAASC,EAAT,GAA6C,IAA1BC,EAAyB,EAAzBA,SACXC,GADoC,EAAfC,YACXC,eAChB,OACE,yBAAKC,GAAG,iBAAiBZ,UAAWa,IAAOC,kBACzC,yBACEF,GAAG,cACHG,QAAS,SAACC,GACRP,EAAQQ,KAAR,UAAgBC,OAAOC,UAAvB,YAAoCX,EAASY,eAE/CnB,MAAO,CAAEoB,KAAM,OACfC,KAAK,SACLC,SAAU,GAEV,kBAAC,EAAD,OAEF,yBAAKvB,UAAWa,IAAOW,cAAvB,mBAgBSC,MAXf,YAAiD,IAA1BjB,EAAyB,EAAzBA,SAAUE,EAAe,EAAfA,YAC/B,OACE,yBAAKV,UAAWa,IAAOa,cACrB,kBAAC,EAAD,CAASlB,SAAUA,EAAUE,YAAaA,IAC1C,yBAAKV,UAAWa,IAAOc,WAAYC,IAAI,+CAA+CC,IAAI,WAC1F,yBAAK7B,UAAWa,IAAOiB,MAAvB,mFACA,yBAAK9B,UAAWa,IAAOkB,QAAvB,6BCFSC,G,MArBH,SAACC,GAAW,IAAD,EACWC,mBAAS,CACvCC,QAAS,GACTf,YAAa,WACbgB,WAAY,CACVC,QAAS,EACTC,MAAO,GACPC,SAAU,MAPO,mBACd/B,EADc,KACJE,EADI,KAgBrB,OANA8B,qBAAU,WACHC,MAAMC,QAAQC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAiBD,aAAaE,UAChF,IAEH7B,OAAOC,UAAoD6B,UAGzD,kBAAC,EAAD,CAAaxC,SAAUA,EAAUE,YAAaA,MCpBlDuC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,kBCJjDzD,EAAOC,QAAU,CAAC,MAAQ,iCAAiC,cAAgB,yCAAyC,MAAQ,oC","file":"static/js/main.f52ba3dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTime\":\"singleMessage_dateTime__2etYS\",\"singleMessContainer\":\"singleMessage_singleMessContainer__3QHsN\",\"singleMess\":\"singleMessage_singleMess__2Tm8v\",\"msg\":\"singleMessage_msg__1XUX_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"plusbut\":\"plusButtonStyles_plusbut__ICY__\",\"horizontal_plus\":\"plusButtonStyles_horizontal_plus__HIBYs\",\"vertical_plus\":\"plusButtonStyles_vertical_plus__3Wy4d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"topLine_container__1R9Zm\",\"chatImg\":\"topLine_chatImg__1A5Li\",\"topic\":\"topLine_topic__1fCyY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrow\":\"backArrow_arrow__ANJaT\",\"arrowTop\":\"backArrow_arrowTop__291_W\",\"arrowBottom\":\"backArrow_arrowBottom__2hX51\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_list_wrap\":\"DialogList_dialog_list_wrap__8jDdH\",\"translating\":\"DialogList_translating__2VsUs\",\"modal\":\"DialogList_modal__2jYn0\",\"modal-content\":\"DialogList_modal-content__2sQCj\",\"close\":\"DialogList_close__mj83R\",\"plusbut\":\"DialogList_plusbut__5xaUS\",\"horizontal-plus\":\"DialogList_horizontal-plus__2hIb5\",\"vertical-plus\":\"DialogList_vertical-plus__2al7V\",\"container\":\"DialogList_container__TgqVT\",\"dialogsListContainer\":\"DialogList_dialogsListContainer__rSctl\",\"chatwrap\":\"DialogList_chatwrap__3ibf_\",\"wrap\":\"DialogList_wrap__2BclI\",\"meta\":\"DialogList_meta__3QcWi\",\"addinfo\":\"DialogList_addinfo__39jLj\",\"chatImg\":\"DialogList_chatImg__3neQO\",\"preview\":\"DialogList_preview__1B4wF\",\"topic\":\"DialogList_topic__30BO-\",\"dot\":\"DialogList_dot__3C_N6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"attachmentType\":\"styles_attachmentType__3eIKC\",\"message_form\":\"styles_message_form__1Sm1a\",\"input_panel\":\"styles_input_panel__1ju52\",\"sendMessForm\":\"styles_sendMessForm__3A8xD\",\"result\":\"styles_result__3ivTG\",\"messageText\":\"styles_messageText__3PziE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImg\":\"styles_profileImg__2xgSU\",\"profile_form\":\"styles_profile_form__3nryD\",\"topLineContainer\":\"styles_topLineContainer__-JsNv\",\"profileTopic\":\"styles_profileTopic__1KL6U\",\"name\":\"styles_name__1J8hG\",\"status\":\"styles_status__344Hm\"};","import React, { useState } from 'react';\nimport * as plusButtonStyles from './plusButtonStyles.module.css';\nimport * as CNDialogFormStyles from './createNewChatForm.module.css';\nimport UserAppender from './UserAppender';\n\n// create new Chat in local storage and return created chat\nfunction createNewChat(Topic) {\n  let data\n  if (localStorage.getItem('DialogList') == null) {\n    localStorage.setItem('DialogList', '[]')\n    data = []\n  } else {\n    data = JSON.parse(localStorage.getItem('DialogList'))\n  }\n  const chatId = data.length\n  data.push({ chat_id: chatId, topic: Topic, lastmessage: '' })\n  localStorage.setItem('DialogList', JSON.stringify(data))\n  let mdata\n  if (localStorage.getItem('messages') == null) {\n    localStorage.setItem('messages', '{}')\n    mdata = {}\n  } else {\n    mdata = JSON.parse(localStorage.getItem('messages'))\n  }\n  mdata[chatId] = []\n  localStorage.setItem('messages', JSON.stringify(mdata))\n  return data[data.length - 1]\n}\n\nfunction PlusButton({ setHiding }) {\n  return (\n    <div\n      role=\"button\"\n      id={'isActiveForSetHiding'}\n      tabIndex={0}\n      className={plusButtonStyles.plusbut}\n      onClick={setHiding}\n    >\n      <div className={plusButtonStyles.horizontal_plus} id={'isActiveForSetHiding'} />\n      <div className={plusButtonStyles.vertical_plus} id={'isActiveForSetHiding'} />\n    </div>\n  )\n}\n\nfunction CreateNewDialogForm({ isHide, setHiding, setChats, chats }) {\n  let topicForm = null\n  const createChatButt = (e) => {\n    e.preventDefault()\n    setChats(\n      (() => {\n        const newChat = createNewChat(topicForm.value)\n        const newChats = [...chats, newChat]\n        return newChats\n      })(),\n    )\n    setHiding(e)\n  }\n\n  return (\n    <div\n      className={CNDialogFormStyles.modal}\n      id=\"isActiveForSetHiding\"\n      style={isHide ? { display: 'block' } : { display: 'none' }}\n      role=\"button\"\n      tabIndex={0}\n      onClick={setHiding}\n    >\n      <div className={CNDialogFormStyles.modal_content}>\n        <span\n          className={CNDialogFormStyles.close}\n          id=\"isActiveForSetHiding\"\n          role=\"button\"\n          tabIndex={0}\n          onClick={setHiding}\n        >\n          &times;\n        </span>\n        <h2>Create new chat</h2>\n        <br />\n        <input\n          className={CNDialogFormStyles.topic}\n          ref={(input) => {\n            topicForm = input\n          }}\n          type=\"text\"\n          name=\"topic\"\n          placeholder=\"Chat Topic\"\n        />\n\n        <UserAppender />\n\n        <button onClick={createChatButt}>\n          <span id=\"isActiveForSetHiding\">Create new chat</span>\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction CreateChatStuff({ setChats, chats }) {\n  const [hidden, setHiding] = useState(false)\n  const handleClick = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(e.target)\n    if (e.target.id === 'isActiveForSetHiding') hidden ? setHiding(false) : setHiding(true)\n  }\n  return (\n    <React.Fragment>\n      <PlusButton setHiding={handleClick} />\n      <CreateNewDialogForm isHide={hidden} setHiding={handleClick} setChats={setChats} chats={chats} />\n    </React.Fragment>\n  )\n}\n\nexport default CreateChatStuff\n","import React, { useState, useEffect } from 'react'\nimport TopLineDialogList from '../TopLineDialogList/TopLineDialogList'\nimport styles from './DialogList.module.css'\nimport CreateNewChat from '../CreateNewChat/CreateNewChat'\nimport { useHistory } from 'react-router-dom'\n\nfunction getDialogsList() {\n  const data = JSON.parse(localStorage.getItem('DialogList'))\n  return data == null ? [] : data\n}\n\nfunction getChat(chatIdParameter) {\n  const messages = JSON.parse(localStorage.getItem('messages'))\n  const chatInfo = JSON.parse(localStorage.getItem('DialogList'))[chatIdParameter]\n  return { chatId: chatIdParameter, topic: chatInfo.topic, messages: messages[chatIdParameter] }\n}\n\nconst GenerateList = (chats, setAppState) => {\n  let history = useHistory()\n  return chats.map((chat, index) => (\n    <div className={styles.chatwrap} key={index.toString()}>\n      <div\n        onClick={(e) => {\n          history.push(`${window.publicUrl}/chat`)\n          openChat(chat.chat_id, setAppState)\n        }}\n        role=\"button\"\n        tabIndex={0}\n        className={styles.wrap}\n        id={chat.chat_id}\n      >\n        <img className={styles.chatImg} src=\"http://emilcarlsson.se/assets/rachelzane.png\" alt=\"\" />\n        <div className={styles.meta}>\n          <div className={styles.topic}>{`${chat.topic}`} </div>\n          <div className={styles.preview}>{chat.lastmessage} </div>\n        </div>\n        <div className={styles.addinfo}>\n          <span className={styles.dot} />\n          <p>21:23</p>\n        </div>\n      </div>\n    </div>\n  ))\n}\n\nfunction DialogListImpl({ chats, setAppState }) {\n  return <div className={styles.dialogsListContainer}>{chats !== null && GenerateList(chats, setAppState)}</div>\n}\n\nfunction openChat(chatId, setAppState) {\n  setAppState({\n    appPage: 'Chat',\n    openedChat: getChat(chatId),\n    prevAppPage: 'ChatList',\n  })\n}\n\nfunction DialogList({ appState, setAppState }) {\n  const [chats, setChats] = useState([])\n  const loadExistingChats = () => {\n    setChats(getDialogsList())\n  }\n  useEffect(loadExistingChats, [])\n\n  return (\n    <div className={styles.dialog_list_wrap}>\n      <TopLineDialogList />\n      <DialogListImpl chats={chats} setChats={setChats} setAppState={setAppState} />\n      <CreateNewChat setChats={setChats} chats={chats} />\n    </div>\n  )\n}\n\nexport default DialogList\n","import React from 'react';\nimport style from './backArrow.module.css';\n\nfunction BackArrow() {\n\treturn (\n\t\t<div className={style.arrow} style={{\n\t\t\ttransform: 'scale(-1, 1) scale(0.3)'}}>\n\t\t\t<div className={style.arrowTop} />\n\t\t\t<div className={style.arrowBottom} />\n\t\t</div>\n\t);\n}\n\nexport default BackArrow;","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport singleMessStyles from './singleMessage.module.css'\nimport {WHOAMI} from '../whoami'\nimport topLineStyles from './topLine.module.css'\nimport styles from './styles.module.css'\nimport BackArrow from '../BackArrow/BackArrow'\nimport { PAPER_AIRPLANE, CLIP } from './svgVariables'\nimport { usePosition } from 'use-position'\n\n// to delete\nfunction getTime() {\n  const today = new Date()\n  const date = `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`\n  const time = `${today.getHours()}:${today.getMinutes()}:${today.getSeconds()}`\n  return `${date} ${time}`\n}\n\n/* function getChatMessages(chatId) {\n\tconst messages = localStorage.getItem('messages');\n\treturn [ messages[chatId].topic, messages[chatId].messages ];\n} */\n\nfunction postMessage(message) {\n  const data = JSON.parse(localStorage.getItem('messages'))\n  data[message.chatId].push(message)\n  localStorage.setItem('messages', JSON.stringify(data))\n}\n\nclass Message {\n  constructor(chatId, userId, messageText, contentType) {\n    this.messageText = messageText\n    this.userId = userId\n    this.time = getTime()\n    this.chatId = chatId\n    this.contentType = contentType\n  }\n}\n\nfunction TopLine({ topic, appState, setAppState }) {\n  const history = useHistory()\n  return (\n    <div id=\"chatTopLine\" className={topLineStyles.container}>\n      <div\n        id=\"chatBack\"\n        onClick={(e) => {\n          setAppState({ ...appState, appPage: 'ChatList', prevAppPage: history.location })\n          history.push(`${window.publicUrl}/`)\n        }}\n        style={{ flex: '0.2' }}\n        role=\"button\"\n        tabIndex={0}\n      >\n        <BackArrow />\n      </div>\n      <div className={topLineStyles.topic}> {topic} </div>\n    </div>\n  )\n}\n\nfunction MessagesContainer({ messages, appState, setAppState }) {\n  let mContainer\n  const history = useHistory()\n  // eslint-disable-next-line\n  useEffect(() => {\n    // Обновляем заголовок документа с помощью API браузера\n    // eslint-disable-next-line\n    mContainer.scrollTop = mContainer.scrollHeight\n    // eslint-disable-next-line\n  }, [messages])\n  return (\n    <div\n      className={styles.result}\n      style={{ scrollTop: 'scrollHeight' }}\n      ref={(el) => {\n        mContainer = el\n      }}\n    >\n      {messages.map((message, index) => (\n        <div key={index.toString()} className={singleMessStyles.singleMessContainer}>\n          <input\n            type=\"image\"\n            onClick={(e) => {\n              // setAppState(Object.assign({}, appState, {appPage: 'ProfilePage', prevAppPage: 'Chat'}));\n              history.push(`${window.publicUrl}/profile`, appState)\n            }}\n            className={topLineStyles.chatImg}\n            src=\"http://emilcarlsson.se/assets/rachelzane.png\"\n            alt=\"Avatar\"\n          />\n          <div className={singleMessStyles.singleMess} sender={message.userId === WHOAMI.userId ? 'me' : 'him'}>\n            <div className={singleMessStyles.singleMessText}>\n              {(() => {\n                if (message.contentType === 'link') return <a href={message.messageText}> {message.messageText} </a>\n                return <div> {message.messageText} </div>\n              })()}\n            </div>\n            <p className={singleMessStyles.dateTime}> {message.time} </p>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nfunction InputPanel({ appState, setAppState }) {\n  const sendMessage = (e) => {\n    e.preventDefault()\n    const messText = e.target[0].value\n    if (messText.replace(/\\s/gi, '') === '') {\n      return\n    }\n    const newMess = new Message(appState.openedChat.chatId, WHOAMI.userId, messText, 'text')\n    postMessage(newMess)\n    setAppState({\n      ...appState,\n      ...Object.assign(appState.openedChat, { messages: [...appState.openedChat.messages, newMess] }),\n    })\n    e.target[0].value = ''\n  }\n\n  let textInput = React.createRef()\n  let attachmentTypeDiv = React.createRef()\n  const { latitude, longitude } = usePosition()\n\n  const GeolocationHandler = (e) => {\n    e.preventDefault()\n    const newMess = new Message(\n      appState.openedChat.chatId,\n      WHOAMI.userId,\n      `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`,\n      'link',\n    )\n    postMessage(newMess)\n    setAppState({\n      ...appState,\n      ...Object.assign(appState.openedChat, { messages: [...appState.openedChat.messages, newMess] }),\n    })\n    attachmentTypeDiv.current.style.transform = 'scale(0)'\n  }\n\n  return (\n    <div className={styles.input_panel}>\n      <form className={styles.sendMessForm} onSubmit={sendMessage}>\n        <input\n          ref={textInput}\n          type=\"text\"\n          className={styles.messageText}\n          maxLength=\"512\"\n          placeholder=\"Введите сообщеине\"\n        />\n        <div\n          style={{\n            margin: '5px',\n            flex: '0.3',\n            maxHeight: '100%',\n          }}\n        >\n          <div ref={attachmentTypeDiv} className={styles.attachmentType}>\n            <div>Файл</div>\n            <div onClick={GeolocationHandler}>Моя геолокация</div>\n            <div>Аудиосообщене</div>\n          </div>\n          <div\n            dangerouslySetInnerHTML={{ __html: CLIP }}\n            style={{\n              height: '100%',\n            }}\n            onClick={(e) => {\n              attachmentTypeDiv.current.style.transform =\n                attachmentTypeDiv.current.style.transform !== 'scale(1)' ? 'scale(1)' : 'scale(0)'\n            }}\n          />\n        </div>\n\n        <label\n          style={{\n            flex: '0.3',\n            display: 'flex',\n            maxHeight: '100%',\n          }}\n        >\n          <input style={{ display: 'none' }} type=\"submit\" value=\"\" />\n\n          <div dangerouslySetInnerHTML={{ __html: PAPER_AIRPLANE }} style={{ flex: '1', margin: '5px' }} />\n        </label>\n      </form>\n    </div>\n  )\n}\n\nfunction MessageForm({ appState, setAppState }) {\n  return (\n    <div className={styles.message_form}>\n      <TopLine topic={appState.openedChat.topic} appState={appState} setAppState={setAppState} />\n      <MessagesContainer messages={appState.openedChat.messages} appState={appState} setAppState={setAppState} />\n      <InputPanel appState={appState} setAppState={setAppState} />\n    </div>\n  )\n}\n\nMessageForm.propTypes = {\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nInputPanel.propTypes = {\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nMessagesContainer.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object).isRequired,\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nTopLine.propTypes = {\n  topic: PropTypes.string.isRequired,\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nexport default MessageForm\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styles from './styles.module.css'\nimport BackArrow from '../BackArrow/BackArrow'\n\nfunction TopLine({ appState, setAppState }) {\n  const history = useHistory()\n  return (\n    <div id=\"profileTopLine\" className={styles.topLineContainer}>\n      <div\n        id=\"profileBack\"\n        onClick={(e) => {\n          history.push(`${window.publicUrl}/${appState.prevAppPage}`)\n        }}\n        style={{ flex: '0.2' }}\n        role=\"button\"\n        tabIndex={0}\n      >\n        <BackArrow />\n      </div>\n      <div className={styles.profileTopic}> Profile Page </div>\n    </div>\n  )\n}\n\nfunction ProfilePage({ appState, setAppState }) {\n  return (\n    <div className={styles.profile_form}>\n      <TopLine appState={appState} setAppState={setAppState} />\n      <img className={styles.profileImg} src=\"http://emilcarlsson.se/assets/rachelzane.png\" alt=\"Avatar\" />\n      <div className={styles.name}>Кирилл Чеканов</div>\n      <div className={styles.status}>Status: no pain no gain</div>\n    </div>\n  )\n}\n\nexport default ProfilePage\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { AnimatedSwitch } from 'react-router-transition'\nimport DialogList from './components/DialogList/DialogList'\nimport MessageForm from './components/DialogPage/MessageForm'\nimport ProfilePage from './components/ProfilePage/ProfilePage'\nimport './styles/globalStyles.css'\n\nconst App = (props) => {\n  const [appState, setAppState] = useState({\n    appPage: '', // Chat, ProfilePage\n    prevAppPage: 'ChatList',\n    openedChat: {\n      chatId: -1,\n      topic: '',\n      messages: [],\n    },\n  })\n  useEffect(() => {\n    if (!Array.isArray(JSON.parse(localStorage.getItem('DialogList')))) localStorage.clear()\n  }, [])\n\n  window.publicUrl = process.env.NODE_ENV === 'production' ? process.env.PUBLIC_URL : ''\n\n  return (\n    <ProfilePage appState={appState} setAppState={setAppState} />\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"createNewChatForm_modal__2X5FK\",\"modal_content\":\"createNewChatForm_modal_content__VsNJG\",\"close\":\"createNewChatForm_close__3DTMr\"};"],"sourceRoot":""}