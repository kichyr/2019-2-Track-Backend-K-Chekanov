{"version":3,"sources":["components/DialogPage/styles.module.css","components/ProfilePage/styles.module.css","components/CreateNewChat/createNewChatForm.module.css","components/DialogPage/singleMessage.module.css","components/CreateNewChat/plusButtonStyles.module.css","components/DialogPage/topLine.module.css","components/BackArrow/backArrow.module.css","components/DialogList/DialogList.module.css","components/BurgerButton/BurgerButton.js","components/TopLineDialogList/TopLineDialogList.js","components/whoami.js","components/CreateNewChat/UserAppender.js","components/CreateNewChat/CreateNewChat.js","components/DialogList/DialogList.js","components/BackArrow/BackArrow.js","components/DialogPage/svgVariables.js","components/DialogPage/MessageForm.js","components/ProfilePage/ProfilePage.js","App.js","index.js"],"names":["module","exports","BurgerButton","className","SearchBar","type","placeholder","TopLineDialogList","WHOAMI","userId","HOST","renderSuggestion","suggestion","name","UserSuggester","useState","value","suggestions","state","setState","console","log","inputProps","onChange","event","newValue","bind","this","onSuggestionsFetchRequested","a","async","fetch","crossDomain","mode","method","credentials","then","response","text","data","Promise","resolve","JSON","parse","catch","error","reject","getSuggestions","onSuggestionsClearRequested","getSuggestionValue","PlusButton","setHiding","role","id","tabIndex","plusButtonStyles","onClick","CreateNewDialogForm","isHide","setChats","chats","topicForm","CNDialogFormStyles","style","display","ref","input","UserAppender","e","preventDefault","newChat","Topic","localStorage","getItem","setItem","mdata","chatId","length","push","chat_id","topic","lastmessage","stringify","createNewChat","CreateChatStuff","hidden","handleClick","stopPropagation","target","Fragment","getChat","chatIdParameter","messages","GenerateList","setAppState","history","useHistory","map","chat","index","styles","chatwrap","key","toString","window","publicUrl","appPage","openedChat","prevAppPage","openChat","wrap","chatImg","src","alt","meta","preview","addinfo","dot","DialogListImpl","dialogsListContainer","DialogList","appState","useEffect","getDialogsList","dialog_list_wrap","CreateNewChat","BackArrow","arrow","transform","arrowTop","arrowBottom","PAPER_AIRPLANE","CLIP","postMessage","message","Message","messageText","contentType","time","today","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getTime","TopLine","topLineStyles","container","location","flex","MessagesContainer","mContainer","scrollTop","scrollHeight","result","el","singleMessStyles","singleMessContainer","singleMess","sender","singleMessText","href","dateTime","InputPanel","textInput","React","createRef","attachmentTypeDiv","usePosition","latitude","longitude","input_panel","sendMessForm","onSubmit","messText","replace","newMess","Object","assign","maxLength","margin","maxHeight","attachmentType","current","dangerouslySetInnerHTML","__html","height","MessageForm","message_form","topLineContainer","profileTopic","ProfilePage","profile_form","profileImg","status","App","props","Array","isArray","clear","process","atEnter","opacity","atLeave","atActive","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.402440e9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"attachmentType\":\"styles_attachmentType__3eIKC\",\"message_form\":\"styles_message_form__1Sm1a\",\"input_panel\":\"styles_input_panel__1ju52\",\"sendMessForm\":\"styles_sendMessForm__3A8xD\",\"result\":\"styles_result__3ivTG\",\"messageText\":\"styles_messageText__3PziE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImg\":\"styles_profileImg__2xgSU\",\"profile_form\":\"styles_profile_form__3nryD\",\"topLineContainer\":\"styles_topLineContainer__-JsNv\",\"profileTopic\":\"styles_profileTopic__1KL6U\",\"name\":\"styles_name__1J8hG\",\"status\":\"styles_status__344Hm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"createNewChatForm_modal__2X5FK\",\"modal_content\":\"createNewChatForm_modal_content__VsNJG\",\"close\":\"createNewChatForm_close__3DTMr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTime\":\"singleMessage_dateTime__2etYS\",\"singleMessContainer\":\"singleMessage_singleMessContainer__3QHsN\",\"singleMess\":\"singleMessage_singleMess__2Tm8v\",\"msg\":\"singleMessage_msg__1XUX_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"plusbut\":\"plusButtonStyles_plusbut__ICY__\",\"horizontal_plus\":\"plusButtonStyles_horizontal_plus__HIBYs\",\"vertical_plus\":\"plusButtonStyles_vertical_plus__3Wy4d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"topLine_container__1R9Zm\",\"chatImg\":\"topLine_chatImg__1A5Li\",\"topic\":\"topLine_topic__1fCyY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrow\":\"backArrow_arrow__ANJaT\",\"arrowTop\":\"backArrow_arrowTop__291_W\",\"arrowBottom\":\"backArrow_arrowBottom__2hX51\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_list_wrap\":\"DialogList_dialog_list_wrap__8jDdH\",\"translating\":\"DialogList_translating__2VsUs\",\"modal\":\"DialogList_modal__2jYn0\",\"modal-content\":\"DialogList_modal-content__2sQCj\",\"close\":\"DialogList_close__mj83R\",\"plusbut\":\"DialogList_plusbut__5xaUS\",\"horizontal-plus\":\"DialogList_horizontal-plus__2hIb5\",\"vertical-plus\":\"DialogList_vertical-plus__2al7V\",\"container\":\"DialogList_container__TgqVT\",\"dialogsListContainer\":\"DialogList_dialogsListContainer__rSctl\",\"chatwrap\":\"DialogList_chatwrap__3ibf_\",\"wrap\":\"DialogList_wrap__2BclI\",\"meta\":\"DialogList_meta__3QcWi\",\"addinfo\":\"DialogList_addinfo__39jLj\",\"chatImg\":\"DialogList_chatImg__3neQO\",\"preview\":\"DialogList_preview__1B4wF\",\"topic\":\"DialogList_topic__30BO-\",\"dot\":\"DialogList_dot__3C_N6\"};","import React from 'react';\nimport './BurgerButton.css';\n\nfunction BurgerButton() {\n\treturn (\n\t\t<div className=\"burgerButt\">\n\t\t\t<div />\n\t\t\t<div />\n\t\t\t<div />\n\t\t</div>\n\t);\n}\nexport default BurgerButton;","import React from 'react';\nimport BurgerButton from '../BurgerButton/BurgerButton';\nimport './TopLineDialogList.css';\n\nfunction SearchBar() {\n\treturn <input type=\"text\" placeholder=\"Search..\" />;\n}\n\nfunction TopLineDialogList() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<BurgerButton />\n\t\t\t<SearchBar/>\n\t\t</div>\n\t);\n}\n\nexport default TopLineDialogList;","export const WHOAMI = {userId: 1, };\nexport const HOST = \"http://127.0.0.1:8000/\";","import React, { useState } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport {HOST} from '../whoami';\n\n\nasync function getSuggestions(value, setState) {\n  fetch(HOST + 'users/profile/' + value, {\n     crossDomain:true,\n      mode: 'cors',\n      method: 'GET',\n      credentials: 'include'\n    })\n      .then(response => {\n        console.log(response)\n        return response.text()\n      })\n      .then((data) => {\n        console.log(data)\n        Promise.resolve(data ? JSON.parse(data) : {})\n      })\n      .catch((error) => {\n        Promise.reject(error)\n      })\n      .then(\n        data => {\n          setState({ value: value, renderSuggestion: data})});\n}\n\nconst renderSuggestion = suggestion => (\n  <div>\n    {suggestion.name}\n  </div>\n);\n\n\n// SEARCH USERS\nfunction UserSuggester() {\n  const [state, setState] = useState({\n    value: '',\n    suggestions: [],\n  });\n  console.log(state);\n  const onChange = (event, { newValue }) => {\n      setState({...state,\n        value: newValue,\n      });\n\n  };\n  // Autosuggest will call this function every time you need to clear suggestions.\n  const onSuggestionsClearRequested = () => {\n    setState({...state,\n      suggestions: []\n    });\n  };\n\n  // When suggestion is clicked, Autosuggest needs to populate the input\n  // based on the clicked suggestion. Teach Autosuggest how to calculate the\n  // input value for every given suggestion.\n  const getSuggestionValue = suggestion => suggestion.name;\n\n  // Autosuggest will call this function every time you need to update suggestions.\n  // You already implemented this logic above, so just use it.\n  const onSuggestionsFetchRequested = ({ value }) => {\n    getSuggestions(value, setState);\n  };\n\n  const inputProps = {\n    placeholder: 'Type a some part of user name',\n    value: state.value,\n    onChange: onChange.bind(this),\n  };\n\n  return (\n    <Autosuggest\n      suggestions={state.suggestions}\n      onSuggestionsFetchRequested={onSuggestionsFetchRequested}\n      onSuggestionsClearRequested={onSuggestionsClearRequested}\n      getSuggestionValue={getSuggestionValue}\n      renderSuggestion={renderSuggestion}\n      inputProps={inputProps}\n    />\n\n  )\n}\n\n\nexport default UserSuggester;","import React, { useState } from 'react';\nimport * as plusButtonStyles from './plusButtonStyles.module.css';\nimport * as CNDialogFormStyles from './createNewChatForm.module.css';\nimport UserAppender from './UserAppender';\n\n// create new Chat in local storage and return created chat\nfunction createNewChat(Topic) {\n  let data\n  if (localStorage.getItem('DialogList') == null) {\n    localStorage.setItem('DialogList', '[]')\n    data = []\n  } else {\n    data = JSON.parse(localStorage.getItem('DialogList'))\n  }\n  const chatId = data.length\n  data.push({ chat_id: chatId, topic: Topic, lastmessage: '' })\n  localStorage.setItem('DialogList', JSON.stringify(data))\n  let mdata\n  if (localStorage.getItem('messages') == null) {\n    localStorage.setItem('messages', '{}')\n    mdata = {}\n  } else {\n    mdata = JSON.parse(localStorage.getItem('messages'))\n  }\n  mdata[chatId] = []\n  localStorage.setItem('messages', JSON.stringify(mdata))\n  return data[data.length - 1]\n}\n\nfunction PlusButton({ setHiding }) {\n  return (\n    <div\n      role=\"button\"\n      id={'isActiveForSetHiding'}\n      tabIndex={0}\n      className={plusButtonStyles.plusbut}\n      onClick={setHiding}\n    >\n      <div className={plusButtonStyles.horizontal_plus} id={'isActiveForSetHiding'} />\n      <div className={plusButtonStyles.vertical_plus} id={'isActiveForSetHiding'} />\n    </div>\n  )\n}\n\nfunction CreateNewDialogForm({ isHide, setHiding, setChats, chats }) {\n  let topicForm = null\n  const createChatButt = (e) => {\n    e.preventDefault()\n    setChats(\n      (() => {\n        const newChat = createNewChat(topicForm.value)\n        const newChats = [...chats, newChat]\n        return newChats\n      })(),\n    )\n    setHiding(e)\n  }\n\n  return (\n    <div\n      className={CNDialogFormStyles.modal}\n      id=\"isActiveForSetHiding\"\n      style={isHide ? { display: 'block' } : { display: 'none' }}\n      role=\"button\"\n      tabIndex={0}\n      onClick={setHiding}\n    >\n      <div className={CNDialogFormStyles.modal_content}>\n        <span\n          className={CNDialogFormStyles.close}\n          id=\"isActiveForSetHiding\"\n          role=\"button\"\n          tabIndex={0}\n          onClick={setHiding}\n        >\n          &times;\n        </span>\n        <h2>Create new chat</h2>\n        <br />\n        <input\n          className={CNDialogFormStyles.topic}\n          ref={(input) => {\n            topicForm = input\n          }}\n          type=\"text\"\n          name=\"topic\"\n          placeholder=\"Chat Topic\"\n        />\n\n        <UserAppender />\n\n        <button onClick={createChatButt}>\n          <span id=\"isActiveForSetHiding\">Create new chat</span>\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction CreateChatStuff({ setChats, chats }) {\n  const [hidden, setHiding] = useState(false)\n  const handleClick = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(e.target)\n    if (e.target.id === 'isActiveForSetHiding') hidden ? setHiding(false) : setHiding(true)\n  }\n  return (\n    <React.Fragment>\n      <PlusButton setHiding={handleClick} />\n      <CreateNewDialogForm isHide={hidden} setHiding={handleClick} setChats={setChats} chats={chats} />\n    </React.Fragment>\n  )\n}\n\nexport default CreateChatStuff\n","import React, { useState, useEffect } from 'react'\nimport TopLineDialogList from '../TopLineDialogList/TopLineDialogList'\nimport styles from './DialogList.module.css'\nimport CreateNewChat from '../CreateNewChat/CreateNewChat'\nimport { useHistory } from 'react-router-dom'\n\nfunction getDialogsList() {\n  const data = JSON.parse(localStorage.getItem('DialogList'))\n  return data == null ? [] : data\n}\n\nfunction getChat(chatIdParameter) {\n  const messages = JSON.parse(localStorage.getItem('messages'))\n  const chatInfo = JSON.parse(localStorage.getItem('DialogList'))[chatIdParameter]\n  return { chatId: chatIdParameter, topic: chatInfo.topic, messages: messages[chatIdParameter] }\n}\n\nconst GenerateList = (chats, setAppState) => {\n  let history = useHistory()\n  return chats.map((chat, index) => (\n    <div className={styles.chatwrap} key={index.toString()}>\n      <div\n        onClick={(e) => {\n          history.push(`${window.publicUrl}/chat`)\n          openChat(chat.chat_id, setAppState)\n        }}\n        role=\"button\"\n        tabIndex={0}\n        className={styles.wrap}\n        id={chat.chat_id}\n      >\n        <img className={styles.chatImg} src=\"http://emilcarlsson.se/assets/rachelzane.png\" alt=\"\" />\n        <div className={styles.meta}>\n          <div className={styles.topic}>{`${chat.topic}`} </div>\n          <div className={styles.preview}>{chat.lastmessage} </div>\n        </div>\n        <div className={styles.addinfo}>\n          <span className={styles.dot} />\n          <p>21:23</p>\n        </div>\n      </div>\n    </div>\n  ))\n}\n\nfunction DialogListImpl({ chats, setAppState }) {\n  return <div className={styles.dialogsListContainer}>{chats !== null && GenerateList(chats, setAppState)}</div>\n}\n\nfunction openChat(chatId, setAppState) {\n  setAppState({\n    appPage: 'Chat',\n    openedChat: getChat(chatId),\n    prevAppPage: 'ChatList',\n  })\n}\n\nfunction DialogList({ appState, setAppState }) {\n  const [chats, setChats] = useState([])\n  const loadExistingChats = () => {\n    setChats(getDialogsList())\n  }\n  useEffect(loadExistingChats, [])\n\n  return (\n    <div className={styles.dialog_list_wrap}>\n      <TopLineDialogList />\n      <DialogListImpl chats={chats} setChats={setChats} setAppState={setAppState} />\n      <CreateNewChat setChats={setChats} chats={chats} />\n    </div>\n  )\n}\n\nexport default DialogList\n","import React from 'react';\nimport style from './backArrow.module.css';\n\nfunction BackArrow() {\n\treturn (\n\t\t<div className={style.arrow} style={{\n\t\t\ttransform: 'scale(-1, 1) scale(0.3)'}}>\n\t\t\t<div className={style.arrowTop} />\n\t\t\t<div className={style.arrowBottom} />\n\t\t</div>\n\t);\n}\n\nexport default BackArrow;","export const PAPER_AIRPLANE = `\n<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t viewBox=\"0 0 512 512\" style=\"max-width: 100%; max-height: 100%;\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\" fill=\"blue\">\n<g>\n\t<g>\n\t\t<path d=\"M506.955,1.314c-3.119-1.78-6.955-1.75-10.045,0.078L313.656,109.756c-4.754,2.811-6.329,8.943-3.518,13.697\n\t\t\tc2.81,4.753,8.942,6.328,13.697,3.518l131.482-77.749L210.411,303.335L88.603,266.069l158.965-94\n\t\t\tc4.754-2.812,6.329-8.944,3.518-13.698c-2.81-4.753-8.943-6.33-13.697-3.518L58.91,260.392c-3.41,2.017-5.309,5.856-4.84,9.791\n\t\t\ts3.216,7.221,7.004,8.38l145.469,44.504L270.72,439.88c0.067,0.121,0.136,0.223,0.207,0.314c1.071,1.786,2.676,3.245,4.678,4.087\n\t\t\tc1.253,0.527,2.57,0.784,3.878,0.784c2.563,0,5.086-0.986,6.991-2.849l73.794-72.12l138.806,42.466\n\t\t\tc0.96,0.293,1.945,0.438,2.925,0.438c2.116,0,4.206-0.672,5.948-1.961C510.496,409.153,512,406.17,512,403V10\n\t\t\tC512,6.409,510.074,3.093,506.955,1.314z M271.265,329.23c-1.158,1.673-1.779,3.659-1.779,5.694v61.171l-43.823-79.765\n\t\t\tl193.921-201.21L271.265,329.23z M289.486,411.309v-62.867l48.99,14.988L289.486,411.309z M492,389.483l-196.499-60.116\n\t\t\tL492,45.704V389.483z\"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path d=\"M164.423,347.577c-3.906-3.905-10.236-3.905-14.143,0l-93.352,93.352c-3.905,3.905-3.905,10.237,0,14.143\n\t\t\tC58.882,457.024,61.441,458,64,458s5.118-0.976,7.071-2.929l93.352-93.352C168.328,357.815,168.328,351.483,164.423,347.577z\"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path d=\"M40.071,471.928c-3.906-3.903-10.236-3.903-14.142,0.001l-23,23c-3.905,3.905-3.905,10.237,0,14.143\n\t\t\tC4.882,511.024,7.441,512,10,512s5.118-0.977,7.071-2.929l23-23C43.976,482.166,43.976,475.834,40.071,471.928z\"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path d=\"M142.649,494.34c-1.859-1.86-4.439-2.93-7.069-2.93c-2.641,0-5.21,1.07-7.07,2.93c-1.86,1.86-2.93,4.43-2.93,7.07\n\t\t\tc0,2.63,1.069,5.21,2.93,7.07c1.86,1.86,4.44,2.93,7.07,2.93s5.21-1.07,7.069-2.93c1.86-1.86,2.931-4.44,2.931-7.07\n\t\t\tC145.58,498.77,144.51,496.2,142.649,494.34z\"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path d=\"M217.051,419.935c-3.903-3.905-10.233-3.905-14.142,0l-49.446,49.445c-3.905,3.905-3.905,10.237,0,14.142\n\t\t\tc1.953,1.953,4.512,2.929,7.071,2.929s5.118-0.977,7.071-2.929l49.446-49.445C220.956,430.172,220.956,423.84,217.051,419.935z\"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path d=\"M387.704,416.139c-3.906-3.904-10.236-3.904-14.142,0l-49.58,49.58c-3.905,3.905-3.905,10.237,0,14.143\n\t\t\tc1.953,1.952,4.512,2.929,7.071,2.929s5.118-0.977,7.071-2.929l49.58-49.58C391.609,426.377,391.609,420.045,387.704,416.139z\"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path d=\"M283.5,136.31c-1.86-1.86-4.44-2.93-7.07-2.93s-5.21,1.07-7.07,2.93c-1.859,1.86-2.93,4.44-2.93,7.08\n\t\t\tc0,2.63,1.07,5.2,2.93,7.06c1.86,1.87,4.44,2.93,7.07,2.93s5.21-1.06,7.07-2.93c1.859-1.86,2.93-4.43,2.93-7.06\n\t\t\tC286.43,140.75,285.36,138.17,283.5,136.31z\"/>\n\t</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n`\n\nexport const CLIP = `\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\tposition=\"relative\" style=\"max-width: 100%; max-height: 100%;\" viewBox=\"0 0 512 512\" enable-background=\"new 0 0 512 512\" xml:space=\"preserve\" fill=\"blue\">\n<g>\n\t<path d=\"M97.344,482.17c-23.311,0-45.215-9.084-61.689-25.555c-34.01-34.014-34.01-89.361,0-123.371L305.343,63.543\n\t\tc21.727-21.75,50.645-33.713,81.39-33.713c30.75,0,59.667,11.963,81.395,33.713c21.748,21.744,33.726,50.645,33.726,81.389\n\t\tc0,30.75-11.964,59.65-33.708,81.381L255.843,438.596c-6.374,6.371-16.696,6.371-23.067,0c-6.374-6.373-6.374-16.695,0-23.07\n\t\tl212.298-212.283c15.583-15.58,24.153-36.291,24.153-58.311c0-22.016-8.588-42.74-24.167-58.322\n\t\tc-15.583-15.58-36.294-24.154-58.327-24.154c-22.029,0-42.74,8.574-58.323,24.154L58.725,356.311\n\t\tc-21.283,21.301-21.283,55.938,0,77.234c20.645,20.617,56.589,20.617,77.233,0l181.091-181.105\n\t\tc4.924-4.924,7.745-11.74,7.745-18.688c0-7.045-2.755-13.686-7.759-18.689c-10.291-10.291-27.067-10.322-37.358,0L156,338.754\n\t\tc-6.37,6.375-16.697,6.375-23.067,0c-6.374-6.371-6.374-16.697,0-23.066l123.673-123.691c23.005-23.004,60.461-23.004,83.497,0\n\t\tc11.169,11.166,17.317,26,17.317,41.756c0,15.547-6.308,30.762-17.3,41.754L159.029,456.615\n\t\tC142.555,473.086,120.65,482.17,97.344,482.17z\"/>\n</g>\n</svg>\n`\n","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport singleMessStyles from './singleMessage.module.css'\nimport {WHOAMI} from '../whoami'\nimport topLineStyles from './topLine.module.css'\nimport styles from './styles.module.css'\nimport BackArrow from '../BackArrow/BackArrow'\nimport { PAPER_AIRPLANE, CLIP } from './svgVariables'\nimport { usePosition } from 'use-position'\n\n// to delete\nfunction getTime() {\n  const today = new Date()\n  const date = `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`\n  const time = `${today.getHours()}:${today.getMinutes()}:${today.getSeconds()}`\n  return `${date} ${time}`\n}\n\n/* function getChatMessages(chatId) {\n\tconst messages = localStorage.getItem('messages');\n\treturn [ messages[chatId].topic, messages[chatId].messages ];\n} */\n\nfunction postMessage(message) {\n  const data = JSON.parse(localStorage.getItem('messages'))\n  data[message.chatId].push(message)\n  localStorage.setItem('messages', JSON.stringify(data))\n}\n\nclass Message {\n  constructor(chatId, userId, messageText, contentType) {\n    this.messageText = messageText\n    this.userId = userId\n    this.time = getTime()\n    this.chatId = chatId\n    this.contentType = contentType\n  }\n}\n\nfunction TopLine({ topic, appState, setAppState }) {\n  const history = useHistory()\n  return (\n    <div id=\"chatTopLine\" className={topLineStyles.container}>\n      <div\n        id=\"chatBack\"\n        onClick={(e) => {\n          setAppState({ ...appState, appPage: 'ChatList', prevAppPage: history.location })\n          history.push(`${window.publicUrl}/`)\n        }}\n        style={{ flex: '0.2' }}\n        role=\"button\"\n        tabIndex={0}\n      >\n        <BackArrow />\n      </div>\n      <div className={topLineStyles.topic}> {topic} </div>\n    </div>\n  )\n}\n\nfunction MessagesContainer({ messages, appState, setAppState }) {\n  let mContainer\n  const history = useHistory()\n  // eslint-disable-next-line\n  useEffect(() => {\n    // Обновляем заголовок документа с помощью API браузера\n    // eslint-disable-next-line\n    mContainer.scrollTop = mContainer.scrollHeight\n    // eslint-disable-next-line\n  }, [messages])\n  return (\n    <div\n      className={styles.result}\n      style={{ scrollTop: 'scrollHeight' }}\n      ref={(el) => {\n        mContainer = el\n      }}\n    >\n      {messages.map((message, index) => (\n        <div key={index.toString()} className={singleMessStyles.singleMessContainer}>\n          <input\n            type=\"image\"\n            onClick={(e) => {\n              // setAppState(Object.assign({}, appState, {appPage: 'ProfilePage', prevAppPage: 'Chat'}));\n              history.push(`${window.publicUrl}/profile`, appState)\n            }}\n            className={topLineStyles.chatImg}\n            src=\"http://emilcarlsson.se/assets/rachelzane.png\"\n            alt=\"Avatar\"\n          />\n          <div className={singleMessStyles.singleMess} sender={message.userId === WHOAMI.userId ? 'me' : 'him'}>\n            <div className={singleMessStyles.singleMessText}>\n              {(() => {\n                if (message.contentType === 'link') return <a href={message.messageText}> {message.messageText} </a>\n                return <div> {message.messageText} </div>\n              })()}\n            </div>\n            <p className={singleMessStyles.dateTime}> {message.time} </p>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nfunction InputPanel({ appState, setAppState }) {\n  const sendMessage = (e) => {\n    e.preventDefault()\n    const messText = e.target[0].value\n    if (messText.replace(/\\s/gi, '') === '') {\n      return\n    }\n    const newMess = new Message(appState.openedChat.chatId, WHOAMI.userId, messText, 'text')\n    postMessage(newMess)\n    setAppState({\n      ...appState,\n      ...Object.assign(appState.openedChat, { messages: [...appState.openedChat.messages, newMess] }),\n    })\n    e.target[0].value = ''\n  }\n\n  let textInput = React.createRef()\n  let attachmentTypeDiv = React.createRef()\n  const { latitude, longitude } = usePosition()\n\n  const GeolocationHandler = (e) => {\n    e.preventDefault()\n    const newMess = new Message(\n      appState.openedChat.chatId,\n      WHOAMI.userId,\n      `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`,\n      'link',\n    )\n    postMessage(newMess)\n    setAppState({\n      ...appState,\n      ...Object.assign(appState.openedChat, { messages: [...appState.openedChat.messages, newMess] }),\n    })\n    attachmentTypeDiv.current.style.transform = 'scale(0)'\n  }\n\n  return (\n    <div className={styles.input_panel}>\n      <form className={styles.sendMessForm} onSubmit={sendMessage}>\n        <input\n          ref={textInput}\n          type=\"text\"\n          className={styles.messageText}\n          maxLength=\"512\"\n          placeholder=\"Введите сообщеине\"\n        />\n        <div\n          style={{\n            margin: '5px',\n            flex: '0.3',\n            maxHeight: '100%',\n          }}\n        >\n          <div ref={attachmentTypeDiv} className={styles.attachmentType}>\n            <div>Файл</div>\n            <div onClick={GeolocationHandler}>Моя геолокация</div>\n            <div>Аудиосообщене</div>\n          </div>\n          <div\n            dangerouslySetInnerHTML={{ __html: CLIP }}\n            style={{\n              height: '100%',\n            }}\n            onClick={(e) => {\n              attachmentTypeDiv.current.style.transform =\n                attachmentTypeDiv.current.style.transform !== 'scale(1)' ? 'scale(1)' : 'scale(0)'\n            }}\n          />\n        </div>\n\n        <label\n          style={{\n            flex: '0.3',\n            display: 'flex',\n            maxHeight: '100%',\n          }}\n        >\n          <input style={{ display: 'none' }} type=\"submit\" value=\"\" />\n\n          <div dangerouslySetInnerHTML={{ __html: PAPER_AIRPLANE }} style={{ flex: '1', margin: '5px' }} />\n        </label>\n      </form>\n    </div>\n  )\n}\n\nfunction MessageForm({ appState, setAppState }) {\n  return (\n    <div className={styles.message_form}>\n      <TopLine topic={appState.openedChat.topic} appState={appState} setAppState={setAppState} />\n      <MessagesContainer messages={appState.openedChat.messages} appState={appState} setAppState={setAppState} />\n      <InputPanel appState={appState} setAppState={setAppState} />\n    </div>\n  )\n}\n\nMessageForm.propTypes = {\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nInputPanel.propTypes = {\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nMessagesContainer.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object).isRequired,\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nTopLine.propTypes = {\n  topic: PropTypes.string.isRequired,\n  appState: PropTypes.shape({\n    appPage: PropTypes.string.isRequired,\n    openedChat: PropTypes.shape({\n      chatId: PropTypes.number,\n      topic: PropTypes.string.isRequired,\n      messages: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  setAppState: PropTypes.func.isRequired,\n}\n\nexport default MessageForm\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styles from './styles.module.css'\nimport BackArrow from '../BackArrow/BackArrow'\n\nfunction TopLine({ appState, setAppState }) {\n  const history = useHistory()\n  return (\n    <div id=\"profileTopLine\" className={styles.topLineContainer}>\n      <div\n        id=\"profileBack\"\n        onClick={(e) => {\n          history.push(`${window.publicUrl}/${appState.prevAppPage}`)\n        }}\n        style={{ flex: '0.2' }}\n        role=\"button\"\n        tabIndex={0}\n      >\n        <BackArrow />\n      </div>\n      <div className={styles.profileTopic}> Profile Page </div>\n    </div>\n  )\n}\n\nfunction ProfilePage({ appState, setAppState }) {\n  return (\n    <div className={styles.profile_form}>\n      <TopLine appState={appState} setAppState={setAppState} />\n      <img className={styles.profileImg} src=\"http://emilcarlsson.se/assets/rachelzane.png\" alt=\"Avatar\" />\n      <div className={styles.name}>Кирилл Чеканов</div>\n      <div className={styles.status}>Status: no pain no gain</div>\n    </div>\n  )\n}\n\nexport default ProfilePage\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { AnimatedSwitch } from 'react-router-transition'\nimport DialogList from './components/DialogList/DialogList'\nimport MessageForm from './components/DialogPage/MessageForm'\nimport ProfilePage from './components/ProfilePage/ProfilePage'\nimport './styles/globalStyles.css'\n\nconst App = (props) => {\n  const [appState, setAppState] = useState({\n    appPage: '', // Chat, ProfilePage\n    prevAppPage: 'ChatList',\n    openedChat: {\n      chatId: -1,\n      topic: '',\n      messages: [],\n    },\n  })\n  useEffect(() => {\n    if (!Array.isArray(JSON.parse(localStorage.getItem('DialogList')))) localStorage.clear()\n  }, [])\n\n  window.publicUrl = process.env.NODE_ENV === 'production' ? process.env.PUBLIC_URL : ''\n  // FIX\n  if(window.publicUrl === '/static')\n    window.publicUrl = '';\n  //\n  return (\n    <Router>\n      <AnimatedSwitch\n        atEnter={{ opacity: 0 }}\n        atLeave={{ opacity: 0 }}\n        atActive={{ opacity: 1 }}\n        className=\"switch-wrapper\"\n      >\n        <Route path={`${window.publicUrl}/chat/`}>\n          {(props) => {\n            if (appState.appPage !== 'Chat') setAppState({ ...appState, appPage: 'Chat' })\n            return <MessageForm appState={appState} setAppState={setAppState} />\n          }}\n        </Route>\n        <Route path={`${window.publicUrl}/`}>\n          {(props) => {\n            if (appState.appPage !== 'ChatList')\n              setAppState({ ...appState, appPage: 'ChatList', prevAppPage: appState.appPage })\n            return <DialogList appState={appState} setAppState={setAppState} />\n          }}\n        </Route>\n        <Route path={`${window.publicUrl}/profile/`}>\n          {(props) => {\n            if (appState.appPage !== 'ProfilePage')\n              setAppState({ ...appState, appPage: 'ProfilePage', prevAppPage: appState.appPage })\n            return <ProfilePage appState={appState} setAppState={setAppState} />\n          }}\n        </Route>\n      </AnimatedSwitch>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}